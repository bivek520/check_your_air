(this.webpackJsonpcheck_your_air=this.webpackJsonpcheck_your_air||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"b":"http://api.airvisual.com/v2/","a":"2a435fd6-d3f9-499d-8963-bb5d21311ec0"}')},46:function(e,t,a){},68:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(10),s=a.n(o),i=a(23),l=(a(45),a(46),a(2)),d=a(24),u=a.n(d),h=a(36),j=a(16),b=a(17),m=a(19),v=a(18),p=a(8),O=a(14),f=a(39),g=a(15),x=a.n(g),y=a(20),N=function(e){var t=e.name,a=e.label,n=e.error,c=Object(y.a)(e,["name","label","error"]);return Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:t,children:a}),Object(r.jsx)("input",Object(p.a)(Object(p.a)({},c),{},{name:t,id:t,className:"form-control"})),n&&Object(r.jsx)("div",{className:"alert alert-danger",children:n})]})},_=function(e){var t=e.name,a=e.label,n=e.options,c=e.error,o=Object(y.a)(e,["name","label","options","error"]);return console.log("this is the label, name",a),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:t,children:Object(r.jsxs)("h4",{className:"selectLabel",children:["Select one of the ",a," "]})}),Object(r.jsxs)("select",Object(p.a)(Object(p.a)({name:t,id:t},o),{},{className:"form-select",children:[Object(r.jsx)("option",{value:""}),n.map((function(e){return Object(r.jsx)("option",{value:e._id,children:e.name},e._id)}))]})),c&&Object(r.jsx)("div",{className:"alert alert-danger",children:c})]})},k=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{},errors:{}},e.validate=function(){var t=x.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,r={},n=Object(f.a)(t.details);try{for(n.s();!(a=n.n()).done;){var c=a.value;r[c.path[0]]=c.message}}catch(o){n.e(o)}finally{n.f()}return r},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(O.a)({},a,r),c=Object(O.a)({},a,e.schema[a]),o=x.a.validate(n,c).error;return o?o.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,r=Object(p.a)({},e.state.errors),n=e.validateProperty(a);n?r[a.name]=n:delete r[a.name];var c=Object(p.a)({},e.state.data);c[a.name]=a.value,e.setState({data:c,errors:r})},e}return Object(b.a)(a,[{key:"renderButton",value:function(e){return Object(r.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:e})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,c=n.data,o=n.errors;return Object(r.jsx)(_,{name:e,value:c[e],label:t,options:a,onChange:this.handleChange,error:o[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,c=n.data,o=n.errors;return Object(r.jsx)(N,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:o[e]})}}]),a}(n.Component),S=a(13),C=a.n(S);var w={init:function(){},log:function(e){console.error(e)}},R=a(38);C.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(w.log(e),R.a.error("An unexpected error occurrred.")),Promise.reject(e)}));var A={get:C.a.get,post:C.a.post,put:C.a.put,delete:C.a.delete},P=a(12);P.b,P.a;function B(e){var t=e.name,a=e.state;return console.log(t,a),A.get(P.b+"city?city=".concat(t,"&state=").concat(a,"&country=Nepal&key=")+P.a)}var I=function(e){var t,a=e.value;if(console.log(a),a){var n=a.city,c=a.state,o=a.country,s=a.current.pollution.aqius,i=(t=s)>=0&&t<=50?{condition:"Good",color:"Green"}:t>=51&&t<=100?{condition:"Moderate",color:"Yellow"}:t>=101&&t<=150?{condition:"Unhealthy for Sensitive Groups",color:"Orange"}:t>=151&&t<=200?{condition:"Unhealthy",color:"Red"}:t>=201&&t<=300?{condition:"Very Unhealthy",color:"Purple"}:t>=301&&t<=500?{condition:"Hazardous",color:"Maroon"}:null;return Object(r.jsxs)("div",{className:"card text-center w-60",children:[Object(r.jsxs)("div",{className:"card-header",children:[n,", ",c,", ",o]}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("h5",{className:"card-title",children:["AQI: ",s," US AQI"]}),Object(r.jsxs)("p",{className:"card-text",children:["Air Quality: ",i.condition]})]})]})}return null},M=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(j.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{location:""},locations:[{_id:"1",name:"Bhaktapur",state:"Central Region"},{_id:"2",name:"Bharatpur",state:"Central Region"},{_id:"3",name:"Dhulikhel",state:"Central Region"},{_id:"4",name:"Kathmandu",state:"Central Region"},{_id:"5",name:"Kirtipur",state:"Central Region"},{_id:"6",name:"Patan",state:"Central Region"},{_id:"7",name:"Dhankuta",state:"Eastern Region"},{_id:"8",name:"Nepalgunj",state:"Mid Western"},{_id:"9",name:"Tulsipur",state:"Mid Western"},{_id:"10",name:"Pokhara",state:"Western Region"}],errors:{}},e.schema={location:x.a.string().label("Location")},e.doSubmit=Object(h.a)(u.a.mark((function t(){var a,r,n,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.locations,n=a.data,c=r.filter((function(e){return e._id===n.location})),console.log(c[0],"doSubmitt"),t.next=5,B(c[0]);case 5:o=t.sent,e.setState({result:o.data.data});case 7:case"end":return t.stop()}}),t)}))),e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.result,a=e.locations;return console.log(A.get(P.b+"city_ranking?key="+P.a)),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h1",{className:"head",children:"Check Your Air Quality"}),Object(r.jsx)("h1",{className:"head_2",children:"------------------X-------------------"}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col",children:[Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderSelect("location","Location",a),this.renderButton("Check")]}),Object(r.jsx)(I,{value:t})]})})]})}}]),a}(k);a(68);var Q=function(){return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(l.a,{path:"/",component:M})})})};s.a.render(Object(r.jsx)(i.a,{children:Object(r.jsx)(Q,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.e8901103.chunk.js.map