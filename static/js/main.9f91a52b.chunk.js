(this.webpackJsonpcheck_your_air=this.webpackJsonpcheck_your_air||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"b":"https://api.airvisual.com/v2/","a":"2a435fd6-d3f9-499d-8963-bb5d21311ec0"}')},46:function(e,t,a){},68:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a(10),s=a.n(c),o=a(24),i=(a(45),a(46),a(2)),l=a(16),d=a.n(l),u=a(25),h=a(17),j=a(18),b=a(20),m=a(19),v=a(8),p=a(14),O=a(39),f=a(15),x=a.n(f),y=a(21),g=function(e){var t=e.name,a=e.label,n=e.error,c=Object(y.a)(e,["name","label","error"]);return Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:t,children:a}),Object(r.jsx)("input",Object(v.a)(Object(v.a)({},c),{},{name:t,id:t,className:"form-control"})),n&&Object(r.jsx)("div",{className:"alert alert-danger",children:n})]})},N=function(e){var t=e.name,a=e.label,n=e.options,c=e.error,s=Object(y.a)(e,["name","label","options","error"]);return Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:t,children:Object(r.jsxs)("h4",{className:"selectLabel",children:["Select one of the ",a," "]})}),Object(r.jsxs)("select",Object(v.a)(Object(v.a)({name:t,id:t},s),{},{className:"form-select",children:[Object(r.jsx)("option",{value:""}),n.map((function(e){return Object(r.jsx)("option",{value:e._id,children:e.name},e._id)}))]})),c&&Object(r.jsx)("div",{className:"alert alert-danger",children:c})]})},k=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{},errors:{}},e.validate=function(){var t=x.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,r={},n=Object(O.a)(t.details);try{for(n.s();!(a=n.n()).done;){var c=a.value;r[c.path[0]]=c.message}}catch(s){n.e(s)}finally{n.f()}return r},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(p.a)({},a,r),c=Object(p.a)({},a,e.schema[a]),s=x.a.validate(n,c).error;return s?s.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,r=Object(v.a)({},e.state.errors),n=e.validateProperty(a);n?r[a.name]=n:delete r[a.name];var c=Object(v.a)({},e.state.data);c[a.name]=a.value,e.setState({data:c,errors:r}),console.log(e.state.data)},e}return Object(j.a)(a,[{key:"renderButton",value:function(e){return Object(r.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:e})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,c=n.data,s=n.errors;return Object(r.jsx)(N,{name:e,value:c[e],label:t,options:a,onChange:this.handleChange,error:s[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,c=n.data,s=n.errors;return Object(r.jsx)(g,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:s[e]})}}]),a}(n.Component),_=a(13),C=a.n(_);var S={init:function(){},log:function(e){console.error(e)}},w=a(38);C.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(S.log(e),w.a.error("An unexpected error occurrred.")),Promise.reject(e)}));var R={get:C.a.get,post:C.a.post,put:C.a.put,delete:C.a.delete},A=a(12),P=A.b+"nearest_city?key="+A.a;function B(){return R.get(P)}function I(e){var t=e.name,a=e.state;return R.get(A.b+"city?city=".concat(t,"&state=").concat(a,"&country=Nepal&key=")+A.a)}var M=function(e){var t,a=e.value;if(a){var n=a.city,c=a.state,s=a.country,o=a.current.pollution.aqius,i=(t=o)>=0&&t<=50?{condition:"Good",color:"Green"}:t>=51&&t<=100?{condition:"Moderate",color:"Yellow"}:t>=101&&t<=150?{condition:"Unhealthy for Sensitive Groups",color:"Orange"}:t>=151&&t<=200?{condition:"Unhealthy",color:"Red"}:t>=201&&t<=300?{condition:"Very Unhealthy",color:"Purple"}:t>=301&&t<=500?{condition:"Hazardous",color:"Maroon"}:null;return Object(r.jsxs)("div",{className:"card text-center w-60",children:[Object(r.jsxs)("div",{className:"card-header",children:[n,", ",c,", ",s]}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("h5",{className:"card-title",children:["AQI: ",o," US AQI"]}),Object(r.jsxs)("p",{className:"card-text",children:["Air Quality: ",i.condition]})]})]})}return null},Q=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{location:""},locations:[{_id:"1",name:"Bhaktapur",state:"Central Region"},{_id:"2",name:"Bharatpur",state:"Central Region"},{_id:"3",name:"Dhulikhel",state:"Central Region"},{_id:"4",name:"Kathmandu",state:"Central Region"},{_id:"5",name:"Kirtipur",state:"Central Region"},{_id:"6",name:"Patan",state:"Central Region"},{_id:"7",name:"Dhankuta",state:"Eastern Region"},{_id:"8",name:"Nepalgunj",state:"Mid Western"},{_id:"9",name:"Tulsipur",state:"Mid Western"},{_id:"10",name:"Pokhara",state:"Western Region"}],errors:{}},e.schema={location:x.a.string().label("Location")},e.handleNearestCity=Object(u.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:a=t.sent,e.setState({result:a.data.data});case 4:case"end":return t.stop()}}),t)}))),e.doSubmit=Object(u.a)(d.a.mark((function t(){var a,r,n,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.locations,n=a.data,c=r.filter((function(e){return e._id===n.location})),t.next=4,I(c[0]);case 4:s=t.sent,e.setState({result:s.data.data});case 6:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.result,a=e.locations;return Object(r.jsxs)("div",{className:"container-fluidcontainer-fluid",children:[Object(r.jsx)("h1",{className:"head",children:"Check Your Air Quality"}),Object(r.jsx)("h1",{className:"head_2",children:"------------------X-------------------"}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-md-auto",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderSelect("location","Location",a),this.renderButton("Check")]})}),Object(r.jsx)("div",{className:"col-md-auto",children:Object(r.jsx)("button",{type:"button",className:"btn btn-danger",onClick:this.handleNearestCity,children:"Check for nearest city"})})]}),Object(r.jsx)(M,{value:t})]})}}]),a}(k);a(68);var U=function(){return Object(r.jsx)(i.c,{children:Object(r.jsx)(i.a,{path:"/check_your_air",component:Q})})};s.a.render(Object(r.jsx)(o.a,{children:Object(r.jsx)(U,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.9f91a52b.chunk.js.map