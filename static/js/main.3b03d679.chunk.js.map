{"version":3,"sources":["component/common/input.jsx","component/common/select.jsx","component/locationForm.jsx","component/common/form.jsx","App.js","index.js"],"names":["Input","name","label","error","rest","className","htmlFor","id","Select","options","value","map","option","_id","LocationForm","state","data","location","errors","schema","Joi","string","required","doSubmit","console","log","onSubmit","this","handleSubmit","renderInput","renderButton","validate","abortEarly","details","item","path","message","validateProperty","obj","e","preventDefault","setState","handleChange","input","currentTarget","errorMessage","disabled","onChange","type","Component","App","Fragment","component","from","exact","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3b03d679.chunk.js","sourcesContent":["import React from 'react';\n\nconst Input = ({ name, label, error, ...rest }) => {\n\treturn (\n\t\t<div className='form-group'>\n\t\t\t<label htmlFor={name}>{label}</label>\n\t\t\t<input {...rest} name={name} id={name} className='form-control' />\n\t\t\t{error && <div className='alert alert-danger'>{error}</div>}\n\t\t</div>\n\t);\n};\n\nexport default Input;\n","import React from 'react';\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n\treturn (\n\t\t<div className='form-group'>\n\t\t\t<label htmlFor={name}>{label}</label>\n\t\t\t<select name={name} id={name} {...rest} className='form-control'>\n\t\t\t\t<option value='' />\n\t\t\t\t{options.map((option) => (\n\t\t\t\t\t<option key={option._id} value={option._id}>\n\t\t\t\t\t\t{option.name}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t\t{error && <div className='alert alert-danger'>{error}</div>}\n\t\t</div>\n\t);\n};\n\nexport default Select;\n","import React from 'react';\nimport Form from './common/form';\nimport Joi from 'joi-browser';\n\nclass LocationForm extends Form {\n\tstate = {\n\t\tdata: { location: '' },\n\t\terrors: {},\n\t};\n\n\tschema = {\n\t\tlocation: Joi.string().required().label('Location'),\n\t};\n\tdoSubmit = () => {\n\t\t// Call the server\n\t\tconsole.log('Submitted');\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Check Your Air quality</h1>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t{this.renderInput('location', 'Location')}\n\t\t\t\t\t{this.renderButton('Check')}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LocationForm;\n","import React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Input from './input';\nimport Select from './select';\n\nclass Form extends Component {\n\tstate = {\n\t\tdata: {},\n\t\terrors: {},\n\t};\n\n\tvalidate = () => {\n\t\tconst options = { abortEarly: false };\n\t\tconst { error } = Joi.validate(this.state.data, this.schema, options);\n\t\tif (!error) return null;\n\n\t\tconst errors = {};\n\t\tfor (let item of error.details) errors[item.path[0]] = item.message;\n\t\treturn errors;\n\t};\n\n\tvalidateProperty = ({ name, value }) => {\n\t\tconst obj = { [name]: value };\n\t\tconst schema = { [name]: this.schema[name] };\n\t\tconst { error } = Joi.validate(obj, schema);\n\t\treturn error ? error.details[0].message : null;\n\t};\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tconst errors = this.validate();\n\t\tthis.setState({ errors: errors || {} });\n\t\tif (errors) return;\n\n\t\tthis.doSubmit();\n\t};\n\n\thandleChange = ({ currentTarget: input }) => {\n\t\tconst errors = { ...this.state.errors };\n\t\tconst errorMessage = this.validateProperty(input);\n\t\tif (errorMessage) errors[input.name] = errorMessage;\n\t\telse delete errors[input.name];\n\n\t\tconst data = { ...this.state.data };\n\t\tdata[input.name] = input.value;\n\n\t\tthis.setState({ data, errors });\n\t};\n\n\trenderButton(label) {\n\t\treturn (\n\t\t\t<button disabled={this.validate()} className='btn btn-primary'>\n\t\t\t\t{label}\n\t\t\t</button>\n\t\t);\n\t}\n\n\trenderSelect(name, label, options) {\n\t\tconst { data, errors } = this.state;\n\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tname={name}\n\t\t\t\tvalue={data[name]}\n\t\t\t\tlabel={label}\n\t\t\t\toptions={options}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\terror={errors[name]}\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderInput(name, label, type = 'text') {\n\t\tconst { data, errors } = this.state;\n\n\t\treturn (\n\t\t\t<Input\n\t\t\t\ttype={type}\n\t\t\t\tname={name}\n\t\t\t\tvalue={data[name]}\n\t\t\t\tlabel={label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\terror={errors[name]}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default Form;\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport LocationForm from './component/locationForm';\n\nimport './App.css';\nfunction App() {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Switch>\n\t\t\t\t<Route path='/check_your_air' component={LocationForm} />\n\t\t\t\t<Redirect from='/' exact to='/check_your_air' />\n\t\t\t</Switch>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}