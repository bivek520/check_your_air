(this.webpackJsonpcheck_your_air=this.webpackJsonpcheck_your_air||[]).push([[0],{24:function(e){e.exports=JSON.parse('{"b":"http://api.airvisual.com/v2/","a":"2a435fd6-d3f9-499d-8963-bb5d21311ec0"}')},46:function(e,t,a){},68:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),s=a(10),o=a.n(s),l=a(22),i=(a(45),a(46),a(2)),u=a(23),d=a.n(u),j=a(36),b=a(15),h=a(16),v=a(18),m=a(17),p=a(8),O=a(13),f=a(39),x=a(14),g=a.n(x),y=a(19),N=function(e){var t=e.name,a=e.label,n=e.error,c=Object(y.a)(e,["name","label","error"]);return Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:t,children:a}),Object(r.jsx)("input",Object(p.a)(Object(p.a)({},c),{},{name:t,id:t,className:"form-control"})),n&&Object(r.jsx)("div",{className:"alert alert-danger",children:n})]})},k=function(e){var t=e.name,a=e.label,n=e.options,c=e.error,s=Object(y.a)(e,["name","label","options","error"]);return Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:t,children:a}),Object(r.jsxs)("select",Object(p.a)(Object(p.a)({name:t,id:t},s),{},{className:"form-control",children:[Object(r.jsx)("option",{value:""}),n.map((function(e){return Object(r.jsx)("option",{value:e._id,children:e.name},e._id)}))]})),c&&Object(r.jsx)("div",{className:"alert alert-danger",children:c})]})},S=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{},errors:{}},e.validate=function(){var t=g.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,r={},n=Object(f.a)(t.details);try{for(n.s();!(a=n.n()).done;){var c=a.value;r[c.path[0]]=c.message}}catch(s){n.e(s)}finally{n.f()}return r},e.validateProperty=function(t){var a=t.name,r=t.value,n=Object(O.a)({},a,r),c=Object(O.a)({},a,e.schema[a]),s=g.a.validate(n,c).error;return s?s.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,r=Object(p.a)({},e.state.errors),n=e.validateProperty(a);n?r[a.name]=n:delete r[a.name];var c=Object(p.a)({},e.state.data);c[a.name]=a.value,e.setState({data:c,errors:r})},e}return Object(h.a)(a,[{key:"renderButton",value:function(e){return Object(r.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:e})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,c=n.data,s=n.errors;return Object(r.jsx)(k,{name:e,value:c[e],label:t,options:a,onChange:this.handleChange,error:s[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,c=n.data,s=n.errors;return Object(r.jsx)(N,{type:a,name:e,value:c[e],label:t,onChange:this.handleChange,error:s[e]})}}]),a}(n.Component),_=a(12),C=a.n(_);var w={init:function(){},log:function(e){console.error(e)}},A=a(38);C.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(w.log(e),A.a.error("An unexpected error occurrred.")),Promise.reject(e)}));var I={get:C.a.get,post:C.a.post,put:C.a.put,delete:C.a.delete},q=a(24),B=q.b+"nearest_city?key="+q.a;function F(){return I.get(B)}var J=function(e){var t,a=e.value;if(console.log(a),a){var n=a.city,c=a.state,s=a.country,o=a.current.pollution.aqius,l=(t=o)>=0&&t<=50?{condition:"Good",color:"Green"}:"hello";return Object(r.jsxs)("div",{className:"card text-center w-75",children:[Object(r.jsxs)("div",{className:"card-header",children:[n,", ",c,", ",s]}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsxs)("h5",{className:"card-title",children:["AQI: ",o," US AQI"]}),Object(r.jsxs)("p",{className:"card-text",children:["Air Quality: ",l.condition]})]})]})}return null},P=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:{location:""},errors:{}},e.schema={location:g.a.string().required().label("Location")},e.doSubmit=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:a=t.sent,e.setState({result:a.data.data}),console.log("Submitted",e.state.data.location,e.state.aqius,a.data.data.log);case 5:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.result;e.location;return console.log(t),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"head",children:"Check Your Air quality"}),Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderInput("location","Location"),this.renderButton("Check")]}),Object(r.jsx)(J,{value:t})]})}}]),a}(S);a(68);var Q=function(){return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(i.a,{path:"/check_your_air",exact:!0,component:P})})})};o.a.render(Object(r.jsx)(l.a,{children:Object(r.jsx)(Q,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.ccc4cde3.chunk.js.map